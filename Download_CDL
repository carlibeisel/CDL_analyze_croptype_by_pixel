##________________________________________________________________________________________
# This code downloads CDL files for a specific county using this example code in R. 
# This code retrieves CDL data for Treasure Valley using a shapefile  
##_________________________________________________________________________________________

#Install Packages
install.packages ("CropScapeR")
library(CropScapeR)
library(sf)

# read the shapefile into R
# shapefile must be in Albers Projection
spdata <- sf::st_read("/Users/dbeisel/Desktop/albers_projection/LBRB_ALBERS.shp")

ggplot () +
  geom_sf(data=spdata) #plot shapefile

#install CDL files into Data Folder for Ada or Canyon county 
tv <- GetCDLData(
  aoi =  sf::st_bbox(spdata),
  year = 2006, 
  type = 'b',
  format = 'raster',
  save_path = ('/Users/dbeisel/Desktop/DATA/CDL_data/tv_2006.tif') # input new file name
) 

